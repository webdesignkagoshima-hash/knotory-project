<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- noindex -->
  <meta name="robots" content="noindex, nofollow">
  <meta name="format-detection" content="telephone=no">
  
  <!-- favicon -->
  <link rel="icon" type="image/svg+xml" href="./favicon.svg">
  <link rel="icon" href="./favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="./apple-touch-icon.png">
  
  
  <!-- OGP -->
  <title>Knotory（ノトリー）｜お祝いメッセージ</title>
  <meta name="description" content="お祝いメッセージ">
  <meta property="og:title" content="Knotory（ノトリー）｜お祝いメッセージ" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="" />
  <meta property="og:image" content="" />
  <meta property="og:site_name" content="" />
  <meta property="og:description" content="お祝いメッセージ" />
  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="">
  <meta name="twitter:title" content="Knotory（ノトリー）｜お祝いメッセージ">
  <meta name="twitter:description" content="お祝いメッセージ">
  <meta name="twitter:image:src" content="">
  
  <!-- fontfamily -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  
  <!-- css -->
  <script type="module" crossorigin src="./assets/js/index.js"></script>
  <link rel="stylesheet" crossorigin href="./assets/css/index.css">
</head>
<body>
  <!-- メッセージ一覧セクション -->
  <section class="p-message-list">
    <div class="p-message-list__container">
      <div class="p-message-list__header">
        <img src="./assets/images/message.png" alt="メッセージ" class="p-message-list__icon">
        <h1 class="p-message-list__title">メッセージ一覧</h1>
      </div>
      <div id="messageContainer" class="p-message-list__content">
        <!-- メッセージがここに動的に表示される -->
        <div class="p-message-list__loading">メッセージを読み込み中...</div>
      </div>
    </div>
  </section>

  <footer class="l-footer">
    <div class="l-footer__container js-fadeIn">
      <!-- logo -->
      <div class="l-footer__logo">
        <p class="l-footer__copy">Webで届ける、あたらしい結婚のカタチ</p>
        <figure class="l-footer__logoImage">
          <img src="./assets/images/logo.png" alt="Knotory ノトリ">
        </figure>
      </div>
      <p class="l-footer__text">
        こちらのページは、Knotory が<br class="u-onlySp">作成しています。<br>
        結婚のご報告を「あなたらしく」<br>
        丁寧に報告されたい方にぴったりのサービスです。
      </p>
      <div class="l-footer__btnWrapper">
        <a href="#" class="c-btn">
          Knotoryをもっと詳しく
        </a>
      </div>
      <div class="c-btnLine">
        <div class="c-btnLine__linkContainer">
          <div class="c-btnLine__linkInner">
            <figure class="c-btnLine__linkIcon">
              <img src="data:image/png;base64,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" alt="LINE">
            </figure>
            <p class="c-btnLine__text">
              LINE公式アカウント<br />
              で無料相談できます♪
            </p>
          </div>
          <div class="c-btnLine__linkBtnWrapper">
            <a href="#" class="c-btn c-btn__line">無料で相談してみる</a>
          </div>
        </div>
      </div>
      <p class="l-footer__text">&copy; Knotory</p>
    </div>
  
  </footer>
  
  <style>
  .p-message-list {
    padding: 80px 20px;
    background-color: #fafafa;
    min-height: 100vh;
  }
  
  .p-message-list__container {
    max-width: 400px;
    margin: 0 auto;
    text-align: center;
  }
  
  .p-message-list__header {
    text-align: center;
    margin-bottom: 50px;
  }
  
  .p-message-list__icon {
    width: 70px;
    height: 70px;
    object-fit: contain;
    display: block;
    margin: 0 auto 10px;
  }
  
  .p-message-list__title {
    font-size: 1.25rem;
    color: #333;
    font-family: 'Shippori Mincho', serif;
    font-weight: 300;
    margin: 0;
  }
  
  .p-message-list__content {
    display: flex;
    flex-direction: column;
    gap: 30px;
  }
  
  .p-message-list__loading {
    text-align: center;
    padding: 40px;
    color: #666;
    font-family: 'Shippori Mincho', serif;
  }
  
  .message-item {
    background: #AF9B4F;
    border-radius: 4px;
    padding: 20px;
    overflow: hidden;
    
  }
  
  .message-item__header {
    background: transparent;
    color: #fff;
    padding: 0 0 15px 0;
    text-align: center;
    font-weight: 600;
    font-family: 'Shippori Mincho', serif;
    font-size: 1.1rem;
  }
  
  .message-item__content {
    background: #fff;
    padding: 8px 20px 70px 20px;
    color: #333;
    line-height: 1.6;
    font-family: 'Shippori Mincho', serif;
    min-height: 80px;
    text-align: left;
    border-radius: 4px;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: flex-start;
  }
  
  .message-item__empty {
    text-align: center;
    padding: 0 20px;
    color: #999;
    font-family: 'Shippori Mincho', serif;
  }
  </style>
  
  <script>
  // メッセージ一覧を取得して表示
  async function loadMessages() {
    const container = document.getElementById('messageContainer');
    
    try {
      const response = await fetch('get_messages.php');
      const data = await response.json();
      
      if (data.success && data.messages.length > 0) {
        container.innerHTML = data.messages.map(message => `
          <div class="message-item">
            <div class="message-item__header">
              ${escapeHtml(message.name)}　様
            </div>
            <div class="message-item__content">
              ${escapeHtml(message.message).replace(/\n/g, '<br>')}
            </div>
          </div>
        `).join('');
      } else {
        container.innerHTML = '<div class="message-item__empty">メッセージがまだ届いておりません</div>';
      }
    } catch (error) {
      console.error('Error loading messages:', error);
      container.innerHTML = '<div class="message-item__empty">メッセージの読み込みに失敗しました</div>';
    }
  }
  
  function escapeHtml(text) {
    const div = document.createElement('div');
    div.textContent = text;
    return div.innerHTML;
  }
  
  function formatDate(dateString) {
    const date = new Date(dateString);
    return date.toLocaleDateString('ja-JP', {
      year: 'numeric',
      month: 'numeric', 
      day: 'numeric',
      hour: '2-digit',
      minute: '2-digit'
    });
  }
  
  // ページ読み込み時にメッセージを取得
  document.addEventListener('DOMContentLoaded', loadMessages);
  </script>  
</body>
</html>